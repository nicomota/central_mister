<app-mister-academy-navbar></app-mister-academy-navbar>

<div class="academy-hero">
  <video class="hero-video" autoplay loop muted playsinline>
    <source src="assets/img/terra.mp4" type="video/mp4">
  </video>
  <div class="hero-overlay hero-image-fallback"></div>
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <h1 class="hero-title">Jornada do Contador</h1>
    <p class="hero-description">Complete sua trilha de aprendizado e torne-se um especialista no Mister Contador</p>
  </div>
</div>

<div class="content">
  <!-- Progresso Geral -->
  <div class="overall-progress">
    <div class="progress-header">
      <h2>Seu Progresso na Trilha</h2>
      <div class="progress-stats">
        <span class="progress-percentage">{{ overallProgress }}%</span>
        <span class="progress-courses">{{ completedCourses }} de {{ totalCourses }} aulas concluídas</span>
      </div>
    </div>
    <div class="progress-bar-container">
      <div class="progress-bar">
        <div class="progress-fill" [style.width.%]="overallProgress"></div>
      </div>
    </div>
    <div class="progress-info">
      <p *ngIf="overallProgress === 0"><strong>Comece sua jornada</strong> assistindo a primeira aula do módulo Cadastros Inteligentes!</p>
      <p *ngIf="overallProgress > 0 && overallProgress < 100"><strong>Continue assim!</strong> Você já completou {{ overallProgress }}% da sua jornada.</p>
      <p *ngIf="overallProgress === 100"><strong>Parabéns!</strong> Você completou toda a jornada do contador!</p>
    </div>
  </div>

  <!-- Área de Vídeo da Trilha -->
  <div class="video-section">
    <div class="video-container">
      <div class="video-player">
        <iframe [src]="currentVideoUrl | safe: 'resourceUrl'"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen"
          allowfullscreen
          loading="lazy"
          title="Vídeo da Aula"></iframe>
      </div>

      <div class="journey-tracker">
        <h3>Progresso da Trilha</h3>
        <div class="video-steps">

          <!-- Módulo 1: Cadastros Inteligentes -->
          <div class="module-wrapper">
            <div class="module-item current" (click)="toggleModule(1)">
              <div class="module-dot"></div>
              <span class="module-label">Módulo 1: Cadastros Inteligentes</span>
              <i class='bx bx-chevron-down module-chevron' [class.expanded]="isModuleExpanded(1)"></i>
            </div>
            <div class="lessons-container" [class.expanded]="isModuleExpanded(1)">
              <div class="lesson-item" [class.current]="isCurrentCourse(1, 1)" [class.completed]="isCourseCompleted(1, 1)" (click)="goToCourse(1, 1)">
                <span class="lesson-label">Aula 1.1: Cadastro de usuários</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(1, 1)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(1, 2)" [class.completed]="isCourseCompleted(1, 2)" (click)="goToCourse(1, 2)">
                <span class="lesson-label">Aula 1.2: Cadastro do plano de contas</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(1, 2)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(1, 3)" [class.completed]="isCourseCompleted(1, 3)" (click)="goToCourse(1, 3)">
                <span class="lesson-label">Aula 1.3: Cadastro de empresas</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(1, 3)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(1, 4)" [class.completed]="isCourseCompleted(1, 4)" (click)="goToCourse(1, 4)">
                <span class="lesson-label">Aula 1.4: Atualização do plano de contas</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(1, 4)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(1, 5)" [class.completed]="isCourseCompleted(1, 5)" (click)="goToCourse(1, 5)">
                <span class="lesson-label">Aula 1.5: Cadastro de mais agências bancárias</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(1, 5)"></i>
              </div>
            </div>
          </div>

          <!-- Módulo 2: Importação de Documentos Simplificada -->
          <div class="module-wrapper">
            <div class="module-item locked" (click)="toggleModule(2)">
              <div class="module-dot"></div>
              <span class="module-label">Módulo 2: Importação de Documentos Simplificada</span>
              <i class='bx bx-chevron-down module-chevron' [class.expanded]="isModuleExpanded(2)"></i>
            </div>
            <div class="lessons-container" [class.expanded]="isModuleExpanded(2)">
              <div class="lesson-item" [class.current]="isCurrentCourse(2, 1)" [class.completed]="isCourseCompleted(2, 1)" (click)="goToCourse(2, 1)">
                <span class="lesson-label">Aula 2.1: Tipos de documentos suportados</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(2, 1)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(2, 2)" [class.completed]="isCourseCompleted(2, 2)" (click)="goToCourse(2, 2)">
                <span class="lesson-label">Aula 2.2: Ordem correta para conciliação</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(2, 2)"></i>
              </div>
            </div>
          </div>

          <!-- Módulo 3: Notas Fiscais -->
          <div class="module-wrapper">
            <div class="module-item locked" (click)="toggleModule(3)">
              <div class="module-dot"></div>
              <span class="module-label">Módulo 3: Notas Fiscais</span>
              <i class='bx bx-chevron-down module-chevron' [class.expanded]="isModuleExpanded(3)"></i>
            </div>
            <div class="lessons-container" [class.expanded]="isModuleExpanded(3)">
              <div class="lesson-item" [class.current]="isCurrentCourse(3, 1)" [class.completed]="isCourseCompleted(3, 1)" (click)="goToCourse(3, 1)">
                <span class="lesson-label">Aula 3.1: Integração com sistemas de notas</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(3, 1)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(3, 2)" [class.completed]="isCourseCompleted(3, 2)" (click)="goToCourse(3, 2)">
                <span class="lesson-label">Aula 3.2: Importação e análise de notas de entrada/saída</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(3, 2)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(3, 3)" [class.completed]="isCourseCompleted(3, 3)" (click)="goToCourse(3, 3)">
                <span class="lesson-label">Aula 3.3: Importação de notas de serviço</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(3, 3)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(3, 4)" [class.completed]="isCourseCompleted(3, 4)" (click)="goToCourse(3, 4)">
                <span class="lesson-label">Aula 3.4: Mister Notas</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(3, 4)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(3, 5)" [class.completed]="isCourseCompleted(3, 5)" (click)="goToCourse(3, 5)">
                <span class="lesson-label">Aula 3.5: Dicas e estatísticas</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(3, 5)"></i>
              </div>
            </div>
          </div>

          <!-- Módulo 4: Comprovantes de Pagamentos -->
          <div class="module-wrapper">
            <div class="module-item locked" (click)="toggleModule(4)">
              <div class="module-dot"></div>
              <span class="module-label">Módulo 4: Comprovantes de Pagamentos</span>
              <i class='bx bx-chevron-down module-chevron' [class.expanded]="isModuleExpanded(4)"></i>
            </div>
            <div class="lessons-container" [class.expanded]="isModuleExpanded(4)">
              <div class="lesson-item" [class.current]="isCurrentCourse(4, 1)" [class.completed]="isCourseCompleted(4, 1)" (click)="goToCourse(4, 1)">
                <span class="lesson-label">Aula 4.1: Importação de comprovantes em lote</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(4, 1)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(4, 2)" [class.completed]="isCourseCompleted(4, 2)" (click)="goToCourse(4, 2)">
                <span class="lesson-label">Aula 4.2: Análise e separação automática de documentos</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(4, 2)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(4, 3)" [class.completed]="isCourseCompleted(4, 3)" (click)="goToCourse(4, 3)">
                <span class="lesson-label">Aula 4.3: Detalhamento de tarifas e encargos</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(4, 3)"></i>
              </div>
            </div>
          </div>

          <!-- Módulo 5: Extratos Bancários -->
          <div class="module-wrapper">
            <div class="module-item locked" (click)="toggleModule(5)">
              <div class="module-dot"></div>
              <span class="module-label">Módulo 5: Extratos Bancários</span>
              <i class='bx bx-chevron-down module-chevron' [class.expanded]="isModuleExpanded(5)"></i>
            </div>
            <div class="lessons-container" [class.expanded]="isModuleExpanded(5)">
              <div class="lesson-item" [class.current]="isCurrentCourse(5, 1)" [class.completed]="isCourseCompleted(5, 1)" (click)="goToCourse(5, 1)">
                <span class="lesson-label">Aula 5.1: Importação de extratos</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(5, 1)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(5, 2)" [class.completed]="isCourseCompleted(5, 2)" (click)="goToCourse(5, 2)">
                <span class="lesson-label">Aula 5.2: Análise de débitos e créditos</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(5, 2)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(5, 3)" [class.completed]="isCourseCompleted(5, 3)" (click)="goToCourse(5, 3)">
                <span class="lesson-label">Aula 5.3: Gestão de saldos</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(5, 3)"></i>
              </div>
            </div>
          </div>

          <!-- Módulo 6: Integração Bancária Automática -->
          <div class="module-wrapper">
            <div class="module-item locked" (click)="toggleModule(6)">
              <div class="module-dot"></div>
              <span class="module-label">Módulo 6: Integração Bancária Automática</span>
              <i class='bx bx-chevron-down module-chevron' [class.expanded]="isModuleExpanded(6)"></i>
            </div>
            <div class="lessons-container" [class.expanded]="isModuleExpanded(6)">
              <div class="lesson-item" [class.current]="isCurrentCourse(6, 1)" [class.completed]="isCourseCompleted(6, 1)" (click)="goToCourse(6, 1)">
                <span class="lesson-label">Aula 6.1: Configuração de integração bancária</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(6, 1)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(6, 2)" [class.completed]="isCourseCompleted(6, 2)" (click)="goToCourse(6, 2)">
                <span class="lesson-label">Aula 6.2: Importação automática de dados</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(6, 2)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(6, 3)" [class.completed]="isCourseCompleted(6, 3)" (click)="goToCourse(6, 3)">
                <span class="lesson-label">Aula 6.3: Gestão de acessos secundários</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(6, 3)"></i>
              </div>
            </div>
          </div>

          <!-- Módulo 7: Registros Contábeis -->
          <div class="module-wrapper">
            <div class="module-item locked" (click)="toggleModule(7)">
              <div class="module-dot"></div>
              <span class="module-label">Módulo 7: Registros Contábeis</span>
              <i class='bx bx-chevron-down module-chevron' [class.expanded]="isModuleExpanded(7)"></i>
            </div>
            <div class="lessons-container" [class.expanded]="isModuleExpanded(7)">
              <div class="lesson-item" [class.current]="isCurrentCourse(7, 1)" [class.completed]="isCourseCompleted(7, 1)" (click)="goToCourse(7, 1)">
                <span class="lesson-label">Aula 7.1: Visualização de lançamentos</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(7, 1)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(7, 2)" [class.completed]="isCourseCompleted(7, 2)" (click)="goToCourse(7, 2)">
                <span class="lesson-label">Aula 7.2: Associação de contas contábeis</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(7, 2)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(7, 3)" [class.completed]="isCourseCompleted(7, 3)" (click)="goToCourse(7, 3)">
                <span class="lesson-label">Aula 7.3: Edição avançada e transferências</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(7, 3)"></i>
              </div>
            </div>
          </div>

          <!-- Módulo 8: Regras de Conciliação -->
          <div class="module-wrapper">
            <div class="module-item locked" (click)="toggleModule(8)">
              <div class="module-dot"></div>
              <span class="module-label">Módulo 8: Regras de Conciliação</span>
              <i class='bx bx-chevron-down module-chevron' [class.expanded]="isModuleExpanded(8)"></i>
            </div>
            <div class="lessons-container" [class.expanded]="isModuleExpanded(8)">
              <div class="lesson-item" [class.current]="isCurrentCourse(8, 1)" [class.completed]="isCourseCompleted(8, 1)" (click)="goToCourse(8, 1)">
                <span class="lesson-label">Aula 8.1: Criação e tipos de regras</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(8, 1)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(8, 2)" [class.completed]="isCourseCompleted(8, 2)" (click)="goToCourse(8, 2)">
                <span class="lesson-label">Aula 8.2: Boas práticas para automação</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(8, 2)"></i>
              </div>
            </div>
          </div>

          <!-- Módulo 9: Exportação de Dados -->
          <div class="module-wrapper">
            <div class="module-item locked" (click)="toggleModule(9)">
              <div class="module-dot"></div>
              <span class="module-label">Módulo 9: Exportação de Dados</span>
              <i class='bx bx-chevron-down module-chevron' [class.expanded]="isModuleExpanded(9)"></i>
            </div>
            <div class="lessons-container" [class.expanded]="isModuleExpanded(9)">
              <div class="lesson-item" [class.current]="isCurrentCourse(9, 1)" [class.completed]="isCourseCompleted(9, 1)" (click)="goToCourse(9, 1)">
                <span class="lesson-label">Aula 9.1: Exportação para sistemas contábeis</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(9, 1)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(9, 2)" [class.completed]="isCourseCompleted(9, 2)" (click)="goToCourse(9, 2)">
                <span class="lesson-label">Aula 9.2: Formatação conforme plano de contas</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(9, 2)"></i>
              </div>
            </div>
          </div>

          <!-- Módulo 10: Importação de Planilhas -->
          <div class="module-wrapper">
            <div class="module-item locked" (click)="toggleModule(10)">
              <div class="module-dot"></div>
              <span class="module-label">Módulo 10: Importação de Planilhas</span>
              <i class='bx bx-chevron-down module-chevron' [class.expanded]="isModuleExpanded(10)"></i>
            </div>
            <div class="lessons-container" [class.expanded]="isModuleExpanded(10)">
              <div class="lesson-item" [class.current]="isCurrentCourse(10, 1)" [class.completed]="isCourseCompleted(10, 1)" (click)="goToCourse(10, 1)">
                <span class="lesson-label">Aula 10.1: Parametrização de planilhas</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(10, 1)"></i>
              </div>
              <div class="lesson-item" [class.current]="isCurrentCourse(10, 2)" [class.completed]="isCourseCompleted(10, 2)" (click)="goToCourse(10, 2)">
                <span class="lesson-label">Aula 10.2: Importação de dados customizados</span>
                <i class='bx bx-check-circle' *ngIf="isCourseCompleted(10, 2)"></i>
              </div>
            </div>
          </div>

        </div>

        <div class="navigation-controls">
          <button class="nav-btn prev" (click)="prevVideo()" [disabled]="!canGoPrev()">
            <i class='bx bx-chevron-left'></i>
            Anterior
          </button>
          <button class="nav-btn next" (click)="nextVideo()" [disabled]="!canGoNext()">
            Próximo
            <i class='bx bx-chevron-right'></i>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Introdução da Aula -->
  <div class="lesson-intro-section">
    <div class="lesson-intro-card">
      <div class="intro-header">
        <i class='bx bx-book-open'></i>
        <h3>Visão Geral da Aula</h3>
      </div>
      <div class="intro-content">
        <h4>Sobre esta Aula</h4>
        <p>
          Nesta aula de apresentação, você conhecerá o módulo de Cadastros Inteligentes do Mister Contador.
          Vamos explorar as funcionalidades principais, entender como os cadastros automáticos funcionam e
          como eles podem otimizar seu processo de escrituração contábil.
        </p>

        <h4>O que você vai aprender</h4>
        <ul class="learning-points">
          <li>
            <i class='bx bx-check-circle'></i>
            <span>O que são Cadastros Inteligentes</span>
          </li>
          <li>
            <i class='bx bx-check-circle'></i>
            <span>Principais funcionalidades do módulo</span>
          </li>
          <li>
            <i class='bx bx-check-circle'></i>
            <span>Benefícios da automação de cadastros</span>
          </li>
          <li>
            <i class='bx bx-check-circle'></i>
            <span>Como o sistema facilita a escrituração contábil</span>
          </li>
        </ul>

        <h4>Pré-requisitos</h4>
        <p class="prerequisites">
          <i class='bx bx-info-circle'></i>
          Esta é a primeira aula do módulo, não há pré-requisitos necessários. Aproveite para conhecer o sistema!
        </p>
      </div>
    </div>
  </div>

  <!-- Certificação -->
  <div class="certification-section">
    <div class="certification-card">
      <div class="cert-icon">
        <i class='bx bx-award'></i>
      </div>
      <div class="cert-content">
        <h3>Certificação Mister Academy</h3>
        <p>Complete todos os módulos da trilha para receber sua certificação oficial reconhecida pela empresa.</p>
        <div class="cert-requirements">
          <div class="requirement in-progress">
            <i class='bx bx-time'></i>
            <span>Módulo 1: Cadastros Inteligentes (Em andamento)</span>
          </div>
          <div class="requirement locked">
            <i class='bx bx-lock'></i>
            <span>Módulo 2: Importação de Documentos Simplificada</span>
          </div>
          <div class="requirement locked">
            <i class='bx bx-lock'></i>
            <span>Módulo 3: Notas Fiscais</span>
          </div>
          <div class="requirement locked">
            <i class='bx bx-lock'></i>
            <span>Módulo 4: Comprovantes de Pagamentos</span>
          </div>
          <div class="requirement locked">
            <i class='bx bx-lock'></i>
            <span>Módulo 5: Extratos Bancários</span>
          </div>
          <div class="requirement locked">
            <i class='bx bx-lock'></i>
            <span>Módulo 6: Integração Bancária Automática</span>
          </div>
          <div class="requirement locked">
            <i class='bx bx-lock'></i>
            <span>Módulo 7: Registros Contábeis</span>
          </div>
          <div class="requirement locked">
            <i class='bx bx-lock'></i>
            <span>Módulo 8: Regras de Conciliação</span>
          </div>
          <div class="requirement locked">
            <i class='bx bx-lock'></i>
            <span>Módulo 9: Exportação de Dados</span>
          </div>
          <div class="requirement locked">
            <i class='bx bx-lock'></i>
            <span>Módulo 10: Importação de Planilhas</span>
          </div>
        </div>
        <button class="cert-btn" disabled>
          <i class='bx bx-lock'></i>
          Complete o Módulo 1 para Desbloquear
        </button>
      </div>
    </div>
  </div>

  <div class="footer"><a href="https://www.linkedin.com/in/nicomota/">© 2025 Nícolas da Mota Monteiro dos Santos</a>
  </div>
</div>